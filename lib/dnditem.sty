% D&D 4E style items

%items
\newtcolorbox{itembox}[2][]{
    enhanced,
    arc=15pt,
    colbacktitle=puregold,
    colback=monstertan,
    fonttitle=\bfseries\color{white}\Large,
    title=#2,
    sharp corners,
    frame hidden,
    before skip=8pt plus2pt,
    breakable,
    fontupper=\fontfamily{lmss}\selectfont,
    after={\vspace{7pt plus 1pt}\noindent},
    #1
}

\newenvironment{itemaction}[1][\unskip]{\emph{\textbf{#1.}}}{\vspace{0.5em}}

% Spell Environment
\newenvironment{itemtable}{
	\par\vspace*{2pt}
    \noindent
    \fontfamily{lmss}\selectfont %Select font
    \rowcolors{1}{monstertan}{monstertandark} % Alternate colors
    \tabularx{\linewidth}{XX}
	}
	{\vspace{2pt plus 1pt}\noindent\endtabularx}

%
% Macros for use within the item environment
%
\newkeycommand\itemdetails[rarity=Common,
                    bonus=1,
                    enhance=Attack \& Damage,
                    price=1000 GP,
                    type=Plate Armour]{%
    \begin{itemtable}
    \textbf{Type}  & \commandkey{type}\\
    \textbf{Bonus}  & +\commandkey{bonus}\\
    \textbf{enhance}  & \commandkey{enhance}\\
    \textbf{Rarity}  & \commandkey{rarity}\\
    \textbf{Price}  & \commandkey{price}
    \end{itemtable}
}
